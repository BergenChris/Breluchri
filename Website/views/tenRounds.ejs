<%- include("partials/headerIntro")%>

<main class="col-12 col-lg-9 mx-auto bg-opacity-25  bg-transparent row">
    <section class=" row text-center">
        <section class="row">
            <h1><%=round%>/10</h1>
            <h2>Score: <%=score%></h2>
        </section>
    </section>
    <section class="row text-center">
       <p class="col-10 mx-auto fs-4 fs-md-5 fs-lg-6">"<%=quote.dialog%>"</p>
        <section class="col-7 mx-auto text-center row justify-content-around">
            <button class="col-5 mx-auto btn background mb-3 resetfont" id="favouriteBtn">
                <img src="./../assets/images/fire-icon.png" alt="Favoriet" class="button-image">
                <span class="button-text">Favoriet</span>
            </button>
            <button class="col-5 mx-auto btn background mb-3 resetfont" id="blacklistBtn">
                <img src="./../assets/images/skull-icon.png" alt="Blacklist" class="button-image">
                <span class="button-text">Blacklist</span>
            </button>
        </section>    
        <section class="row gy-5 row">  
            <section class="col-5 mx-auto">
                <h2 class="lotrfont">PERSONAGE</h2>
                <% for(let i=0; i<3; i++) { %>
                    <button class="col-10 mx-auto btn justify-content-around selected-char <% if(characterListMixed[i]==quote.character) { %>correctCharacter<% } %> col-12">
                        <img src="./../assets/images/logoring.png" alt="Selected-char" class="selected-icon-char">
                        <%=characterListMixed[i]%>
                        <img src="./../assets/images/logoring.png" alt="Selected-char" class="selected-icon-char">
                    </button>
                <% } %>
            </section>  
            <section class="col-5 mx-auto">
                <h2 class="lotrfont">FILM</h2>
                <% for(let i=0; i<3; i++) { %>
                    <button class="col-10 mx-auto btn movie selected-mov <% if(movieListMixed[i]==quote.movie) { %>correctMovie<% } %> col-12">
                        <img src="./../assets/images/logoring.png" alt="Selected-mov" class="selected-icon-mov">
                        <%=movieListMixed[i]%>
                        <img src="./../assets/images/logoring.png" alt="Selected-mov" class="selected-icon-mov">
                    </button>
                <% } %>
            </section>
        </section>
        
        <form action="/tenRounds" method="POST">
            <input type="hidden" name="quote" value="<%=quote.dialog%>">
            <input type="hidden" name="blacklist" id="blacklist" value="false">
            <input type="hidden" name="favourite" id="favourite" value="false">
            <input type="hidden" name="blacklistReason" id="blacklistReason" value="">
            <input type="hidden" name="chosenCharacter" id="chosenCharacter" value="">
            <input type="hidden" name="chosenMovie" id="chosenMovie" value="">
            <section class="col-5 row p-5 mx-auto">
                <input type="submit" value="-->" class="volgende">
            </section>
        </form>
        <a href="/quizPage"><button type="button">STOP</button></a>
    </section>

</main>

<script>
    document.querySelectorAll('.selected-char').forEach(button => {
        button.addEventListener('click', () => {
            document.getElementById('chosenCharacter').value = button.classList.contains('correctCharacter') ? 'true' : 'false';
        });
    });

    document.querySelectorAll('.selected-mov').forEach(button => {
        button.addEventListener('click', () => {
            document.getElementById('chosenMovie').value = button.classList.contains('correctMovie') ? 'true' : 'false';
        });
    });

    document.getElementById('favouriteBtn').addEventListener('click', () => {
        let quote = getElementById()
    });

    document.getElementById('blacklistBtn').addEventListener('click', () => {
        document.getElementById('blacklist').value = 'true';
        let reason = prompt('Geef een reden voor de blacklist:');
        document.getElementById('blacklistReason').value = reason ;
    });
</script>